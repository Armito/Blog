(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{351:function(s,t,a){"use strict";a.r(t);var e=a(33),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack"}},[s._v("#")]),s._v(" Webpack")]),s._v(" "),a("h2",{attrs:{id:"打包-html"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包-html"}},[s._v("#")]),s._v(" 打包 HTML")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("包： html-webpack-plugin")])]),s._v(" "),a("li",[a("p",[s._v("loader： /")])]),s._v(" "),a("li",[a("p",[s._v("插件： HtmlWebpackPlugin({ template: '', minify: { collapseWhitespace: true, removeComments: true } })")])]),s._v(" "),a("li",[a("p",[s._v("作用： 打包目标HTML文件，生成HTML骨架文件; 压缩HTML文件")])]),s._v(" "),a("li",[a("p",[s._v("包： html-loader")])]),s._v(" "),a("li",[a("p",[s._v("loader: html-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将html中"),a("img"),s._v("标签引入的图片交给url-loader处理")])])]),s._v(" "),a("h2",{attrs:{id:"打包-css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包-css"}},[s._v("#")]),s._v(" 打包 CSS")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("包： less less-loader")])]),s._v(" "),a("li",[a("p",[s._v("loader： less-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将less代码编译成css代码")])]),s._v(" "),a("li",[a("p",[s._v("包： node-sass sass-loader")])]),s._v(" "),a("li",[a("p",[s._v("loader： sass-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将sass代码编译成css代码")])]),s._v(" "),a("li",[a("p",[s._v("包： postcss-loader autoprefixer")])]),s._v(" "),a("li",[a("p",[s._v("loader： postcss-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： autoprefixer({ overrideBrowserslist: [] })")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将css代码进行兼容处理")])]),s._v(" "),a("li",[a("p",[s._v("包： css-loader")])]),s._v(" "),a("li",[a("p",[s._v("loader： css-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将css代码编译成js代码")])]),s._v(" "),a("li",[a("p",[s._v("包： style-loader")])]),s._v(" "),a("li",[a("p",[s._v("loader： style-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将编译成js代码的css代码添加到HTML骨架文件的<style>标签中")])]),s._v(" "),a("li",[a("p",[s._v("包： mini-css-extract-plugin")])]),s._v(" "),a("li",[a("p",[s._v("loader： MiniCssExtractPlugin.loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： MiniCssExtractPlugin({ filename: '' })")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将编译成js代码的css代码抽离成单独的css文件，并引入到HTML骨架文件中")])]),s._v(" "),a("li",[a("p",[s._v("包： optimize-css-assets-webpack-plugin")])]),s._v(" "),a("li",[a("p",[s._v("loader： /")])]),s._v(" "),a("li",[a("p",[s._v("插件： OptimizeCssAssetsWebpackPlugin()")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将处理后的css文件进行压缩")])])]),s._v(" "),a("h2",{attrs:{id:"打包图片和其他文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包图片和其他文件"}},[s._v("#")]),s._v(" 打包图片和其他文件")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("包： file-loader url-loader")])]),s._v(" "),a("li",[a("p",[s._v("loader: url-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将css中url引入的图片进行打包或者base64转码")])]),s._v(" "),a("li",[a("p",[s._v("包： file-loader")])]),s._v(" "),a("li",[a("p",[s._v("loader: file-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将字体图标等其他文件进行打包")])])]),s._v(" "),a("h2",{attrs:{id:"打包-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包-js"}},[s._v("#")]),s._v(" 打包 JS")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("配置：mode: production")])]),s._v(" "),a("li",[a("p",[s._v("作用：会自动压缩JS代码")])]),s._v(" "),a("li",[a("p",[s._v("包： eslint-loader eslint (对于airbnb: eslint-config-airbnb-base eslint-plugin-import)")])]),s._v(" "),a("li",[a("p",[s._v("loader: eslint-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 对js文件进行语法检查")])])]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在 package.json 中配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslintConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"extends"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"airbnb-base"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("ul",[a("li",[a("p",[s._v("包： babel-loader @babel/preset-env @babel/core core-js")])]),s._v(" "),a("li",[a("p",[s._v("loader: babel-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： JS高级语法兼容性处理")])])]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@balel/preset-env'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启按需加载")]),s._v("\n        useBuiltIns"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'usage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        corejs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        targets"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          chrome"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'60'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          firefox"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'60'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          ie"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          safari"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          edge"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'17'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启babel缓存")]),s._v("\n  casheDirectory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"打包-vue-单组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包-vue-单组件"}},[s._v("#")]),s._v(" 打包 Vue 单组件")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("包： vue-loader")])]),s._v(" "),a("li",[a("p",[s._v("loader: vue-loader")])]),s._v(" "),a("li",[a("p",[s._v("插件： /")])]),s._v(" "),a("li",[a("p",[s._v("作用： 将vue单组件编译成js代码")])])]),s._v(" "),a("h2",{attrs:{id:"开发环境运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发环境运行"}},[s._v("#")]),s._v(" 开发环境运行")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("包：wenbpack-dev-server")])]),s._v(" "),a("li",[a("p",[s._v("作用：开启开发服务器，具备热更新功能")])]),s._v(" "),a("li",[a("p",[s._v("指令：npx webpack-dev-server")])])]),s._v(" "),a("h2",{attrs:{id:"打包优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包优化"}},[s._v("#")]),s._v(" 打包优化")]),s._v(" "),a("h3",{attrs:{id:"开发环境打包优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发环境打包优化"}},[s._v("#")]),s._v(" 开发环境打包优化")]),s._v(" "),a("h4",{attrs:{id:"hmr-hot-module-replace-热模块替换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hmr-hot-module-replace-热模块替换"}},[s._v("#")]),s._v(" HMR(hot module replace)热模块替换")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("作用：文件发生变化时，只更新发生变化的文件，从而加快打包速度")])]),s._v(" "),a("li",[a("p",[s._v("配置：devServer： { hot: true }")])]),s._v(" "),a("li",[a("p",[s._v("对于css文件，只要有style-loader，默认支持HMR")])]),s._v(" "),a("li",[a("p",[s._v("对于js文件，需要在入口文件手动添加监听")])])]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'要监听的文件路径'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 要监听的语句")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("ul",[a("li",[s._v("对于html文件，不支持HMR，且开启HMR会导致html文件热更新失效")])]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 保证热更新，须在配置文件中更改")]),s._v("\nentry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'打包入口文件路径'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'需要热更新的html文件路径'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("h4",{attrs:{id:"source-map"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#source-map"}},[s._v("#")]),s._v(" source-map")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("作用：建立打包后文件于源文件的映射，便于调试定位")])]),s._v(" "),a("li",[a("p",[s._v("配置：devtool: process.env.NODE_ENV === 'development' ? 'eval-source-map' : 'source-map'")])])]),s._v(" "),a("h3",{attrs:{id:"生产环境打包优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生产环境打包优化"}},[s._v("#")]),s._v(" 生产环境打包优化")]),s._v(" "),a("h4",{attrs:{id:"oneof"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oneof"}},[s._v("#")]),s._v(" oneOf")]),s._v(" "),a("ul",[a("li",[s._v("作用：让一个文件只会被一个所匹配到loader处理")])]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" test"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" use"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xxx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" oneOf"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" test"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" use"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xxx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" test"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" use"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xxx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h4",{attrs:{id:"缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存"}},[s._v("#")]),s._v(" 缓存")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("为什么文件要设置缓存？ --\x3e 因为这样会减少请求，减轻服务器压力")])]),s._v(" "),a("li",[a("p",[s._v("为什么文件要设置hash值？ --\x3e 因为缓存不便于文件紧急修复，加上hash值会让文件名变更，重新请求新文件")])]),s._v(" "),a("li",[a("p",[s._v("为什么要采用contenthash？ --\x3e 因为这样会让文件名根据自身的内容变化，减少打包数量(hash, chunkhash会让若干文件hsah值相同，从而集体更新，重新打包)")])]),s._v(" "),a("li",[a("p",[s._v("设置：文件名.[contenthash:10].后缀名")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);