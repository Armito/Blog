(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{340:function(t,_,v){"use strict";v.r(_);var a=v(33),e=Object(a.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"http"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" HTTP")]),t._v(" "),v("blockquote",[v("p",[t._v("超文本传输协议（HyperText Transfer Protocol，HTTP）\n是一种用于分布式、协作式和超媒体信息系统的应用层协议")])]),t._v(" "),v("h2",{attrs:{id:"_1-http-的特点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-http-的特点"}},[t._v("#")]),t._v(" 1. HTTP 的特点")]),t._v(" "),v("ul",[v("li",[t._v("'请求-响应'模式")])]),t._v(" "),v("blockquote",[v("p",[t._v("客户端先发出请求，然后服务器端响应该请求并返回")])]),t._v(" "),v("ul",[v("li",[t._v("无状态")])]),t._v(" "),v("blockquote",[v("p",[t._v("无状态是指协议对于事务处理没有记忆能力\n而为了解决HTTP的无状态特性，出现了 Cookie 和 Session 技术")])]),t._v(" "),v("ul",[v("li",[t._v("无连接")])]),t._v(" "),v("blockquote",[v("p",[t._v("无连接的含义是限制每次连接只响应一个请求，然后就断开连接")])]),t._v(" "),v("h2",{attrs:{id:"_2-报文"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-报文"}},[t._v("#")]),t._v(" 2. 报文")]),t._v(" "),v("blockquote",[v("p",[t._v("HTTP中的报文(message)是网络中交换与传输的数据单元，即站点一次性要发送的数据块\n报文包含请求/响应行，请求/响应头，请求/响应体")])]),t._v(" "),v("ul",[v("li",[t._v("请求报文")])]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("请求方法 请求路径 HTTP版本\n请求头\n请求体\n")])])]),v("ul",[v("li",[t._v("响应报文")])]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("HTTP版本 响应状态码 状态码的原因短语\n响应头\n响应体\n")])])]),v("h3",{attrs:{id:"_2-1-请求方法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-请求方法"}},[t._v("#")]),t._v(" 2.1 请求方法")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("请求方法")]),t._v(" "),v("th",[t._v("说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("GET")]),t._v(" "),v("td",[t._v("获取请求, 无请求体, 是幂等的")])]),t._v(" "),v("tr",[v("td",[t._v("POST")]),t._v(" "),v("td",[t._v("添加请求, 可以有请求体, 是幂等的")])]),t._v(" "),v("tr",[v("td",[t._v("HEAD")]),t._v(" "),v("td",[t._v("获取请求，但服务器将不传回资源的文本部分")])]),t._v(" "),v("tr",[v("td",[t._v("PUT")]),t._v(" "),v("td",[t._v("修改请求, 可以有请求体, 是幂等的")])]),t._v(" "),v("tr",[v("td",[t._v("DELETE")]),t._v(" "),v("td",[t._v("删除请求, 可以有请求体, 是幂等的")])]),t._v(" "),v("tr",[v("td",[t._v("TRACE")]),t._v(" "),v("td",[t._v("请求测试或诊断")])]),t._v(" "),v("tr",[v("td",[t._v("OPTION")]),t._v(" "),v("td",[t._v("请求方法查询")])]),t._v(" "),v("tr",[v("td",[t._v("CONNECT")]),t._v(" "),v("td",[t._v("预留给代理服务器")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-2-请求路径"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-请求路径"}},[t._v("#")]),t._v(" 2.2 请求路径")]),t._v(" "),v("blockquote",[v("p",[t._v("HTTP的URL(Uniform Resource Locator)是一种特殊类型的URI(Uniform Resource Identifier)")])]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("protocol://host[':'port][abs_path]['?'query][fragment]\nprotocol://host[':'port][abs_path][':'params][fragment]\n")])])]),v("h3",{attrs:{id:"_2-3-请求-响应头"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-请求-响应头"}},[t._v("#")]),t._v(" 2.3 请求/响应头")]),t._v(" "),v("blockquote",[v("p",[t._v("包含对请求和响应进行限制和说明若干字段")])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("字段")]),t._v(" "),v("th",[t._v("说明")]),t._v(" "),v("th",[t._v("示例")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("Accept")]),t._v(" "),v("td",[t._v("可接收的响应内容类型")]),t._v(" "),v("td",[t._v("Accept:text/plain (文本类型)")])]),t._v(" "),v("tr",[v("td",[t._v("Accept-Charset")]),t._v(" "),v("td",[t._v("可接收的字符集")]),t._v(" "),v("td",[t._v("Accept-Charset: utf-8")])]),t._v(" "),v("tr",[v("td",[t._v("Accept-Encoding")]),t._v(" "),v("td",[t._v("可接收的响应内容的编码方式")]),t._v(" "),v("td",[t._v("Accept-Encoding: gzip, deflate")])]),t._v(" "),v("tr",[v("td",[t._v("Accept-Language")]),t._v(" "),v("td",[t._v("可接收的响应内容语言列表")]),t._v(" "),v("td",[t._v("Accept-Language: en-US")])]),t._v(" "),v("tr",[v("td",[t._v("Accept-Datetime")]),t._v(" "),v("td",[t._v("可接收的按照时间来表示的响应内容版本")]),t._v(" "),v("td",[t._v("Accept-Datetime: Sat, 26 Dec 2015 17:30:00 GMT")])]),t._v(" "),v("tr",[v("td",[t._v("Authorization")]),t._v(" "),v("td",[t._v("HTTP协议中需要认证资源的认证信息")]),t._v(" "),v("td",[t._v("Authorization: Basic OSdjJGRpbjpvcGVuIANlc2SdDE==")])]),t._v(" "),v("tr",[v("td",[t._v("Cache-Control")]),t._v(" "),v("td",[t._v("请求/响应中,是否使用缓存机制")]),t._v(" "),v("td",[t._v("Cache-Control: no-cache")])]),t._v(" "),v("tr",[v("td",[t._v("Connection")]),t._v(" "),v("td",[t._v("客户端想要优先使用的连接类型")]),t._v(" "),v("td",[t._v("Connection: keep-alive / Upgrade")])]),t._v(" "),v("tr",[v("td",[t._v("Content-Length")]),t._v(" "),v("td",[t._v("以8进制表示的请求体的长度")]),t._v(" "),v("td",[t._v("Content-Length: 348")])]),t._v(" "),v("tr",[v("td",[t._v("Content-Type")]),t._v(" "),v("td",[t._v("请求体的MIME类型")]),t._v(" "),v("td",[t._v("Content-Type: application/x-www-form-urlencoded / application/json")])]),t._v(" "),v("tr",[v("td",[t._v("Date")]),t._v(" "),v("td",[t._v("发送该消息的日期和时间")]),t._v(" "),v("td",[t._v("Date: Dec, 26 Dec 2015 17:30:00 GMT")])]),t._v(" "),v("tr",[v("td",[t._v("E-tag")]),t._v(" "),v("td",[t._v("表示缓存唯一ID")]),t._v(" "),v("td",[t._v("E-tag:")])]),t._v(" "),v("tr",[v("td",[t._v("Expect")]),t._v(" "),v("td",[t._v("表示客户端要求服务器做出特定的行为")]),t._v(" "),v("td",[t._v("Expect: 100-continue")])]),t._v(" "),v("tr",[v("td",[t._v("Expires")]),t._v(" "),v("td",[t._v("表示缓存过期时间")]),t._v(" "),v("td",[t._v("Expires: 3600")])]),t._v(" "),v("tr",[v("td",[t._v("From")]),t._v(" "),v("td",[t._v("发起此请求的用户的邮件地址")]),t._v(" "),v("td",[t._v("From: user@itbilu.com")])]),t._v(" "),v("tr",[v("td",[t._v("Host")]),t._v(" "),v("td",[t._v("服务器域名和端口号,默认端口可省略")]),t._v(" "),v("td",[t._v("Host: www.itbilu.com:80 or www.itbilu.com")])]),t._v(" "),v("tr",[v("td",[t._v("If-Match")]),t._v(" "),v("td",[t._v("主要用于PUT,实体匹配才可以操作")]),t._v(" "),v("td",[t._v('If-Match: "9jd00cdj34pss9ejqiw39d82f20d0ikd"')])]),t._v(" "),v("tr",[v("td",[t._v("If-Modified-Since")]),t._v(" "),v("td",[t._v("资源未被修改的情况下返回304未修改")]),t._v(" "),v("td",[t._v("If-Modified-Since: Dec, 26 Dec 2015 17:30:00 GMT")])]),t._v(" "),v("tr",[v("td",[t._v("If-None-Match")]),t._v(" "),v("td",[t._v("资源与缓存ID不匹配时剋操作")]),t._v(" "),v("td",[t._v("If-None-Match：200")])]),t._v(" "),v("tr",[v("td",[t._v("Last-Modify")]),t._v(" "),v("td",[t._v("缓存最后的修改时间")]),t._v(" "),v("td",[t._v("Last-Modify：Sat, 26 Dec 2015 17:30:00 GMT")])]),t._v(" "),v("tr",[v("td",[t._v("User-Agent")]),t._v(" "),v("td",[t._v("浏览器的身份标识字符串")]),t._v(" "),v("td",[t._v("User-Agent: Mozilla/...")])]),t._v(" "),v("tr",[v("td",[t._v("Upgrade")]),t._v(" "),v("td",[t._v("要求服务器升级到一个高版本协议")]),t._v(" "),v("td",[t._v("Upgrade: HTTP/2.0, SHTTP/1.3, IRC/6.9, RTA/x11")])]),t._v(" "),v("tr",[v("td",[t._v("Via")]),t._v(" "),v("td",[t._v("告诉服务器,这个请求是由哪个代理发出的")]),t._v(" "),v("td",[t._v("Via: 1.0 fred, 1.1 itbilu.com.com (Apache/1.1)")])]),t._v(" "),v("tr",[v("td",[t._v("Referer")]),t._v(" "),v("td",[t._v("表示跳转到当前页面的之前的页面")]),t._v(" "),v("td",[t._v("Referer: http://news.baidu.com")])]),t._v(" "),v("tr",[v("td",[t._v("Origin")]),t._v(" "),v("td",[t._v("发起一个针对跨域资源共享的请求")]),t._v(" "),v("td",[t._v("Origin: http://www.baidu.com")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-4-请求-响应体"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-请求-响应体"}},[t._v("#")]),t._v(" 2.4 请求/响应体")]),t._v(" "),v("blockquote",[v("p",[t._v("包含请求参数和响应数据/内容")])]),t._v(" "),v("h3",{attrs:{id:"_2-5-响应状态码"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-响应状态码"}},[t._v("#")]),t._v(" 2.5 响应状态码")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th"),t._v(" "),v("th",[t._v("类别")]),t._v(" "),v("th",[t._v("原因短语")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("1XX")]),t._v(" "),v("td",[t._v("Imformation (信息性状态码)")]),t._v(" "),v("td",[t._v("接收的请求正在处理")])]),t._v(" "),v("tr",[v("td",[t._v("2XX")]),t._v(" "),v("td",[t._v("Success (成功状态码)")]),t._v(" "),v("td",[t._v("请求正常处理完毕")])]),t._v(" "),v("tr",[v("td",[t._v("3XX")]),t._v(" "),v("td",[t._v("Redirection (重定向状态码)")]),t._v(" "),v("td",[t._v("需要进行附加操作以完成请求")])]),t._v(" "),v("tr",[v("td",[t._v("4XX")]),t._v(" "),v("td",[t._v("Client Error (客户端错误状态码)")]),t._v(" "),v("td",[t._v("服务器无法处理请求")])]),t._v(" "),v("tr",[v("td",[t._v("5XX")]),t._v(" "),v("td",[t._v("Server Error (服务器错误状态码)")]),t._v(" "),v("td",[t._v("服务器处理请求出错")])])])]),t._v(" "),v("h2",{attrs:{id:"_3-http-中的缓存"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-http-中的缓存"}},[t._v("#")]),t._v(" 3. HTTP 中的缓存")]),t._v(" "),v("h3",{attrs:{id:"_3-1-强制缓存"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-强制缓存"}},[t._v("#")]),t._v(" 3.1 强制缓存")]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("// 响应头\nCache-control: public, max-age=3600\n// 请求头 \nExpires: 3600\n")])])]),v("h3",{attrs:{id:"_3-2-协商缓存"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-协商缓存"}},[t._v("#")]),t._v(" 3.2 协商缓存")]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("// 响应头\nE-tag: xxxx\n// 请求头\nIf-None-Match : 304, 200\n")])])]),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("// 响应头\nLast-Modify: time \n// 请求头\nIf-Modify-Since: time\n")])])]),v("p",[t._v("Cache-Control")]),t._v(" "),v("blockquote",[v("p",[t._v("用在请求头部:\n"),v("strong",[t._v("no-cache")]),t._v(": 客户端告知本次请求不接收缓存数据, 直接请求源服务器\n"),v("strong",[t._v("no-store")]),t._v(": 客户端告知本次请求和响应内容不要被缓存\n"),v("strong",[t._v("max-age=[秒]")]),t._v(": 客户端告知本次请求有条件的接收缓存数据: 缓存时间不超过指定值, 否则请求源服务器\n"),v("strong",[t._v("max-stale=([秒])")]),t._v(": 有值的情况: 同 max-age; 无值的情况:  客户端告知本次请求接收所有缓存数据\n"),v("strong",[t._v("min-fresh=[秒]")]),t._v(":  客户端告知本次请求会筛选缓存数据: 只接收在指定时间内不会过期的, 其余不要返回\n"),v("strong",[t._v("only-if-cached")]),t._v(": 客户端告知本次请求只接收缓存数据, 否则返回 504\n"),v("strong",[t._v("must-revalidate")]),t._v(": 客户端告知本次请求有条件的接收缓存数据: 必须再次验证缓存有效, 否则返回 504\n"),v("strong",[t._v("no-transfer")]),t._v(": 客户端告知本次请求的缓存数据的实体的类型不能被转换")])]),t._v(" "),v("blockquote",[v("p",[t._v("用在响应头部:\n"),v("strong",[t._v("no-cache")]),t._v(": 服务端告知本次响应内容缓存前必须再验证有效性\n"),v("strong",[t._v("no-store")]),t._v(": 服务端告知本次请求和响应内容不要被缓存\n"),v("strong",[t._v("max-age=[秒]")]),t._v(": 服务端告知本次响应内容缓存后不用再验证: 只要缓存时间不超过指定值\n"),v("strong",[t._v("s-maxage=[秒]")]),t._v(": 同 max-age, 只针对公共缓存服务器\n"),v("strong",[t._v("public")]),t._v(": 服务端告知本次响应内容缓存后可被其他用户使用\n"),v("strong",[t._v("private")]),t._v(": 服务端告知本次响应内容缓存后不能被其他用户使用\n"),v("strong",[t._v("must-revalidate")]),t._v(": 同 no-cache\n"),v("strong",[t._v("proxy-revalidate")]),t._v(": 同 no-cache, 针对所有缓存服务器\n"),v("strong",[t._v("no-transfer")]),t._v(": 服务端告知本次响应的内容缓存后的实体的类型不能被转换")])]),t._v(" "),v("h2",{attrs:{id:"_4-https"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-https"}},[t._v("#")]),t._v(" 4. HTTPS")]),t._v(" "),v("h3",{attrs:{id:"_4-1-http-的缺点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-http-的缺点"}},[t._v("#")]),t._v(" 4.1 HTTP 的缺点")]),t._v(" "),v("blockquote",[v("ol",[v("li",[t._v("明文通信 -> 窃听")]),t._v(" "),v("li",[t._v("无身份验证 -> 伪装")]),t._v(" "),v("li",[t._v("无信息完整性验证 -> 篡改")])])]),t._v(" "),v("h3",{attrs:{id:"_4-2-https"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-https"}},[t._v("#")]),t._v(" 4.2 HTTPS = ?")]),t._v(" "),v("blockquote",[v("p",[t._v("HTTPS = HTTP + SSL3.0 + TLS1.0 即 HTTPS = HTTP + 加密 + 认证\nSSL: Secure Socket Layer 协议\nTLS: Transport Layer Security 协议")])]),t._v(" "),v("h3",{attrs:{id:"_4-3-共享密钥和公开密钥"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-共享密钥和公开密钥"}},[t._v("#")]),t._v(" 4.3 共享密钥和公开密钥")]),t._v(" "),v("ul",[v("li",[t._v("共享密钥")])]),t._v(" "),v("blockquote",[v("p",[t._v("加密和解密使用同一把密钥\n优点: 速度较快\n缺点: 无法保证密钥在传输过程中的安全性")])]),t._v(" "),v("ul",[v("li",[t._v("公开密钥")])]),t._v(" "),v("blockquote",[v("p",[t._v("加密和解密使用不同的密钥, 私钥服务器保存, 公钥配发给客户端\n优点: 不需叫密钥来回传送\n缺点: 速度较慢; 无法验证公钥配发的安全性")])]),t._v(" "),v("blockquote",[v("p",[t._v("通信时, 先用公开密钥加密共享密钥进行安全传递, 之后采用共享密钥通信")])]),t._v(" "),v("h3",{attrs:{id:"_4-4-认证"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-认证"}},[t._v("#")]),t._v(" 4.4 认证")]),t._v(" "),v("ul",[v("li",[t._v("公钥证书")])]),t._v(" "),v("blockquote",[v("p",[t._v("第三方数字证书认证机构 (CA) 颁发\n认证流程:\n=> 浏览器预先将机构自己的公钥内置到浏览器中\n=> 服务器将要配发的自己的公钥交给机构\n=> 机构用自己的私钥给服务器交给它的公钥进行加密数字签名\n=> 机构将加密后的服务器公钥和公钥证书一起发送给客户端\n=> 客户端用浏览器内置的机构公钥对数字签名进行验证\n=> 验证无误后客户端即可使用服务器公钥")])]),t._v(" "),v("ul",[v("li",[t._v("EV SSL 证书")])]),t._v(" "),v("blockquote",[v("p",[t._v("Extended Validation SSL Certificate\n验证服务器拥有组织的真实性")])]),t._v(" "),v("ul",[v("li",[t._v("客户端证书")])]),t._v(" "),v("blockquote",[v("p",[t._v("用在一些特殊的需要验证客户端真实性的业务上")])]),t._v(" "),v("h3",{attrs:{id:"_4-5-http-or-https"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-http-or-https"}},[t._v("#")]),t._v(" 4.5 HTTP or HTTPS ?")]),t._v(" "),v("blockquote",[v("p",[t._v("考虑到"),v("strong",[t._v("成本")]),t._v("和"),v("strong",[t._v("性能")]),t._v("的问题, 只在必要的通信上使用 HTTPS, 其他依然使用 HTTP")])])])}),[],!1,null,null,null);_.default=e.exports}}]);